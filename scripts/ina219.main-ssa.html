<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>Helium</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Fields">Fields</a></li>
</ul>


<h2>Scripts</h2>
<ul class="nowrap">
  <li><strong>ina219.main-ssa</strong></li>
  <li><a href="../scripts/ina219.main.html">ina219.main</a></li>
</ul>
<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/ina219.config.html">ina219.config</a></li>
  <li><a href="../modules/ina219.html">ina219</a></li>
</ul>

</div>

<div id="content">

<h1>Script <code>ina219.main-ssa</code></h1>
<p>The 4-20 Smart Sensor Adaptor main script
 This main loop is what ships with the Helium 4-20 Smart Sensor
 Adapter.</p>
<p> This script takes current readings and reports them to Helium using
 the default <code>c</code> port or using the value of the config variable
 <code>port</code>. The reading is linearly interpolated between a configured
 <a href="../scripts/ina219.main-ssa.html#LOW">LOW</a> and <a href="../scripts/ina219.main-ssa.html#HIGH">HIGH</a> value. This makes it easy to translate 4-20mA
 readings to the final value that they represent.</p>

<p> The sampling interval is 5 minutes by default bu can be
 overwritten by changing the script or using the configuration
 feature of Helium by setting the config value <code>interval</code>.</p>

<p> If there is no active current loop this script sends an "open
 loop"" event on port <code>ol</code> with a boolean value <code>true</code>.</p>
    <h3>Usage:</h3>
    <ul>
        <pre class="example"># In semi-hosted mode over USB
$ helium-script -m main-ssa.lua ina219.lua config.lua

# Upload to device over USB
$ helium-script -up -m main-ssa.lua ina219.lua config.lua
</pre>
    </ul>
    <h3>Info:</h3>
    <ul>
        <li><strong>Copyright</strong>: 2017 Helium Systems, Inc.</li>
        <li><strong>License</strong>: MIT</li>
    </ul>


<h2><a href="#Fields">Fields</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#SAMPLE_INTERVAL">SAMPLE_INTERVAL</a></td>
	<td class="summary">get sampling interval (default 5 minutes).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#LOW">LOW</a></td>
	<td class="summary">The low value that a 4mA current reading corresponds with (default 4).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#HIGH">HIGH</a></td>
	<td class="summary">The high value that a 20mA current reading corresponds with (default 20).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#PORT">PORT</a></td>
	<td class="summary">the port to send current readings on (defaults <code>c</code>).</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Fields"></a>Fields</h2>

    <dl class="function">
    <dt>
    <a name = "SAMPLE_INTERVAL"></a>
    <strong>SAMPLE_INTERVAL</strong>
    </dt>
    <dd>
    get sampling interval (default 5 minutes).
 Can be configured using the Helium OTA configuration feature using
 the <code>interval</code> key.







</dd>
    <dt>
    <a name = "LOW"></a>
    <strong>LOW</strong>
    </dt>
    <dd>
    The low value that a 4mA current reading corresponds with (default 4).
 Can be configured using the Helium OTA configuration feature using
 the <code>low</code> key.







</dd>
    <dt>
    <a name = "HIGH"></a>
    <strong>HIGH</strong>
    </dt>
    <dd>
    The high value that a 20mA current reading corresponds with (default 20).
 Can be configured using the Helium OTA configuration feature using
 the <code>high</code> key.







</dd>
    <dt>
    <a name = "PORT"></a>
    <strong>PORT</strong>
    </dt>
    <dd>
    the port to send current readings on (defaults <code>c</code>).
 The configuration system currently only supports numbers and
 booleans we support single character port names using their integer
 value. This can be configured using the Helium OTA configuration
 feature using the <code>interval</code> key.







</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2017-04-07 21:00:12 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
